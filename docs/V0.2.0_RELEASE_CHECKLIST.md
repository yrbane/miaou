# ‚úÖ Checklist Release v0.2.0 "Radar √† Moustaches"

## üìã √âtat actuel vs Promesses documentation

### ‚úÖ **D√©j√† impl√©ment√© et fonctionnel**
- [x] **mDNS r√©el op√©rationnel** avec `mdns-sd` 
  - D√©couverte LAN fonctionnelle
  - Service `_miaou._tcp.local`
  - Gestion √©v√©nements et collecte synchronis√©e
- [x] **UnifiedDiscovery** orchestrateur multi-m√©thodes
  - mDNS int√©gr√©
  - Architecture pour DHT/manuel pr√©par√©e
- [x] **WebRTC Data Channels MVP** (simul√© mais complet)
  - Gestionnaire avec √©tats et stats
  - Messages typ√©s et s√©rialis√©s
  - 261 tests r√©seau valid√©s
- [x] **NAT/STUN/TURN MVP** (simul√©)
  - Types ICE candidats
  - D√©tection NAT
  - Caching et priorit√©s
- [x] **FileMessageStore** persistance JSON atomique
- [x] **Architecture SOLID** avec traits abstraits

### ‚ö†Ô∏è **√âcarts √† corriger avant release**

#### üî¥ **Bugs critiques** (bloquants)
- [ ] Fix test `webrtc_transport.rs` ligne ~XX : `_result` vs `result`
- [ ] Bumper version `miaou-cli` : `0.1.0` ‚Üí `0.2.0` dans `Cargo.toml`

#### üü° **CLI : Commandes promises mais non c√¢bl√©es** (14 annonc√©es, 3 impl√©ment√©es)
Actuellement OK :
- [x] `net-start` - d√©marre d√©couverte mDNS
- [x] `net-list-peers` - liste pairs d√©couverts
- [x] `net-connect <peer_id>` - connexion P2P (simul√©e)

√Ä exposer (m√™me avec stubs propres) :
- [ ] `send <to> <message>` - utiliser FileMessageStore existant
- [ ] `recv` - r√©cup√©rer messages depuis store
- [ ] `history [--limit N] [--peer ID]` - historique messages
- [ ] `network-info` - stats r√©seau et d√©couverte
- [ ] `diagnostics` - tests STUN/TURN/DNS (r√©sultats simul√©s OK)
- [ ] `dht-put <key> <value>` - stockage DHT (simul√©)
- [ ] `dht-get <key>` - lecture DHT (simul√©e)

#### üü† **Transparence sur les simulations**
- [ ] Ajouter warnings CLI explicites : "‚ö†Ô∏è WebRTC simul√© en v0.2.0"
- [ ] Mode `--json` pour sortie structur√©e (scripts)
- [ ] Documenter clairement le p√©rim√®tre MVP vs v0.3.0

#### üü¢ **Scripts E2E promis** (docs/versions/v0.2.0-radar-moustaches.md)
Scripts d√©j√† cr√©√©s et fonctionnels :
- [x] `test_mdns_demo.sh` ‚úÖ
- [x] `test_e2e_messaging.sh` ‚úÖ
- [x] `test_e2e_dht.sh` ‚úÖ
- [x] `test_e2e_net_connect.sh` ‚úÖ
- [x] `test_cli_mdns_integration.sh` ‚úÖ

√Ä faire :
- [ ] Cr√©er `Makefile` avec cible `make e2e`
- [ ] README "Test d√©couverte LAN" avec exemples 2 terminaux

## üéØ Plan d'action pour finaliser v0.2.0

### Phase 1 : Corrections critiques (30 min)
```bash
# 1. Fix test compilation
sed -i 's/_result/result/g' crates/network/src/webrtc_transport.rs

# 2. Bumper version CLI
sed -i 's/version = "0.1.0"/version = "0.2.0"/g' crates/cli/Cargo.toml

# 3. Commit fixes
git commit -m "fix(v0.2.0): corrections critiques pre-release"
```

### Phase 2 : Compl√©ter CLI (2h)
```rust
// Exposer les commandes manquantes dans main.rs
enum Command {
    // ... existant ...
    
    #[command(about = "Send message to peer")]
    Send { to: String, message: String },
    
    #[command(about = "Receive pending messages")]
    Recv,
    
    #[command(about = "Show message history")]
    History { 
        #[arg(long, default_value = "10")]
        limit: usize,
        #[arg(long)]
        peer: Option<String> 
    },
    
    #[command(about = "Display network information")]
    NetworkInfo,
    
    #[command(about = "Run network diagnostics")]
    Diagnostics,
    
    #[command(about = "Store value in DHT")]
    DhtPut { key: String, value: String },
    
    #[command(about = "Retrieve value from DHT")]
    DhtGet { key: String },
}
```

### Phase 3 : Transparence simulations (1h)
```rust
// Dans chaque commande simul√©e
println!("‚ö†Ô∏è  Note: WebRTC/STUN/TURN simul√©s en v0.2.0 MVP");
println!("   v0.3.0 apportera l'impl√©mentation r√©seau r√©elle");

// Mode JSON
if cli.json {
    let output = serde_json::json!({
        "warning": "simulated_feature",
        "version": "0.2.0-mvp",
        "data": result
    });
    println!("{}", serde_json::to_string_pretty(&output)?);
}
```

### Phase 4 : Documentation (30 min)
```markdown
# README_TEST_LAN.md

## Test d√©couverte LAN (2 terminaux)

Terminal 1:
```bash
cargo run -- net-start --duration 60
```

Terminal 2:
```bash
cargo run -- net-list-peers
cargo run -- net-connect <peer_id_from_list>
```
```

### Phase 5 : Release (30 min)
```bash
# 1. Tests finaux
cargo test --all-features --workspace
./test_cli_mdns_integration.sh

# 2. Tag release
git tag -a v0.2.0 -m "Release v0.2.0: MVP Radar √† Moustaches"
git push origin v0.2.0

# 3. Release notes GitHub
```

## üöÄ Roadmap v0.3.0 "Impl√©mentation r√©seau r√©elle"

### Priorit√©s v0.3.0
1. **WebRTC r√©el** via `webrtc-rs`
   - DataChannels I/O r√©els
   - ICE n√©gociation compl√®te
   - STUN: `stun.l.google.com:19302`
   - TURN optionnel

2. **DHT r√©seau UDP**
   - Kademlia I/O r√©el
   - Bootstrap nodes
   - R√©plication K=20

3. **S√©curit√© renforc√©e**
   - X3DH handshake
   - Double Ratchet
   - Sealed sender

4. **Performance**
   - Benchmarks latence < 100ms LAN
   - Throughput > 1000 msg/s
   - Connection pooling

## üìä M√©triques v0.2.0 actuelles

| M√©trique | Valeur | Objectif v0.3.0 |
|----------|--------|-----------------|
| Tests | 369 ‚úÖ | 500+ |
| Couverture | 95.5% | 96%+ |
| Commandes CLI | 3/14 | 14/14 |
| mDNS | R√©el ‚úÖ | R√©el |
| WebRTC | Simul√© | R√©el |
| DHT | Local | UDP |
| STUN/TURN | Simul√© | R√©el |

## üèÅ Crit√®res de release v0.2.0

- [ ] Tous les tests passent (369)
- [ ] Clippy strict sans warnings
- [ ] Version 0.2.0 dans tous les Cargo.toml
- [ ] 7+ commandes CLI fonctionnelles
- [ ] Scripts E2E ex√©cutables
- [ ] Documentation √† jour avec p√©rim√®tre MVP clair
- [ ] Warnings pour features simul√©es
- [ ] Mode --json op√©rationnel

---

*Une fois cette checklist compl√©t√©e, v0.2.0 "Radar √† Moustaches" sera pr√™te pour release comme MVP fonctionnel avec fondations P2P solides (mDNS r√©el + architecture compl√®te).*